join:
  enabled: true
  sources:
  - join_key: user_id
    orientation: left
    source_id: user_logins
    time_window: 1h
  - join_key: user_id
    orientation: right
    source_id: orders
    time_window: 1h
  type: temporal
name: Test Pipeline
pipeline_id: test-pipeline
filter:
  enabled: true
  expression: user_id = '123'
stateless_transformation:
  enabled: true
  id: my_transformation
  type: expr_lang_transform
  config:
    transform:
      - expression: upper(user_id)
        output_name: upper_user_id
        output_type: string
sink:
  database: default
  host: <host>
  max_batch_size: 1
  max_delay_time: 10m
  password: <password>
  port: "12753"
  http_port: "12754"
  provider: aiven
  secure: true
  table: user_orders
  type: clickhouse
  username: <user>
source:
  connection_params:
    brokers:
    - kafka-broker-0:9092
    - kafka-broker-1:9092
    mechanism: SCRAM-SHA-256
    password: <password>
    protocol: SASL_SSL
    root_ca: <base64 encoded ca>
    skip_auth: false
    username: <user>
  provider: aiven
  topics:
  - consumer_group_initial_offset: earliest
    deduplication:
      enabled: true
      id_field: session_id
      id_field_type: string
      time_window: 12h
    name: user_logins
  - consumer_group_initial_offset: earliest
    deduplication:
      enabled: true
      id_field: order_id
      id_field_type: string
      time_window: 12h
    name: orders
  type: kafka
schema:
  fields:
  - column_name: session_id
    column_type: String
    name: session_id
    source_id: user_logins
    type: string
  - column_name: user_id
    column_type: String
    name: user_id
    source_id: user_logins
    type: string
  - column_name: order_id
    column_type: String
    name: order_id
    source_id: orders
    type: string
  - name: user_id
    source_id: orders
    type: string
  - column_name: login_at
    column_type: DateTime
    name: timestamp
    source_id: user_logins
    type: string
  - column_name: order_placed_at
    column_type: DateTime
    name: timestamp
    source_id: orders
    type: string
  - name: skip_sink_field
    source_id: orders
    type: string
  - name: upper_user_id
    source_id: my_transformation
    type: string
    column_name: upper_user_id
    column_type: String